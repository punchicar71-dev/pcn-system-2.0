# View Detail Modal - Visual Guide ğŸ“‹

## Modal Display - Before & After

### BEFORE UPDATE âŒ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Vehicle Details                       [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Honda Civic 2020 - VH-001234                  [Export Data] â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Selling Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Selling Price      : Rs. 1,500,000                   â”‚ â”‚
â”‚  â”‚  Payment Type       : [Hire Purchase Badge]           â”‚ â”‚
â”‚  â”‚  Sales Agent        : John Smith â† SINGLE FIELD       â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Customer Price     : Rs. 1,500,000                   â”‚ â”‚
â”‚  â”‚  Down Payment       : Rs. 300,000                     â”‚ â”‚
â”‚  â”‚  Sold Out Date      : 11/04/2025                      â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AFTER UPDATE âœ…
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Vehicle Details                       [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Honda Civic 2020 - VH-001234                  [Export Data] â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Selling Information â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Selling Price           : Rs. 1,500,000             â”‚ â”‚
â”‚  â”‚  Payment Type            : [Hire Purchase Badge]     â”‚ â”‚
â”‚  â”‚  Sold Out Date           : 11/04/2025                â”‚ â”‚
â”‚  â”‚  Office Sales Agent      : John Smith âœ¨ NEW         â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â”‚  Customer Price          : Rs. 1,500,000             â”‚ â”‚
â”‚  â”‚  Down Payment            : Rs. 300,000               â”‚ â”‚
â”‚  â”‚  Vehicle Showroom Agent  : Jane Doe âœ¨ NEW           â”‚ â”‚
â”‚  â”‚                                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Detailed Field Breakdown

### ğŸ“Š Selling Information Section Layout

```
GRID: 2 Columns, 6 Rows

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LEFT COLUMN                      â”‚ RIGHT COLUMN                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Selling Price                 â”‚ 1. Customer Price                â”‚
â”‚    Rs. 1,500,000                 â”‚    Rs. 1,500,000                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. Payment Type                  â”‚ 2. Down Payment                  â”‚
â”‚    [Hire Purchase]               â”‚    Rs. 300,000                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. Sold Out Date                 â”‚ 3. Vehicle Showroom Agent âœ¨      â”‚
â”‚    11/04/2025                    â”‚    Jane Doe (Third Party)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Office Sales Agent âœ¨          â”‚                                  â”‚
â”‚    John Smith (In-house)         â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Agent Type Information

### Field 1: Office Sales Agent (Left Column)
- **Source:** `sales_agents` table (via `sales_agent_id` relation)
- **Type:** In-house sales agent
- **Agent Type Filter:** `agent_type = 'Office Sales Agent'`
- **Display:** Name from sales_agents.name
- **Fallback:** "N/A"

### Field 2: Vehicle Showroom Agent (Right Column)
- **Source:** `third_party_agent` field in pending_vehicle_sales table
- **Type:** Third-party/Showroom agent
- **Agent Type Filter:** `agent_type = 'Vehicle Showroom Agent'`
- **Display:** Agent identifier string
- **Fallback:** "N/A"

---

## Scenarios

### Scenario 1: Sale with Both Agents
```
Office Sales Agent      : John Smith âœ“
Vehicle Showroom Agent  : Jane Doe âœ“
```

### Scenario 2: Sale with Only Office Agent
```
Office Sales Agent      : John Smith âœ“
Vehicle Showroom Agent  : N/A
```

### Scenario 3: Sale with Only Showroom Agent
```
Office Sales Agent      : N/A
Vehicle Showroom Agent  : Jane Doe âœ“
```

### Scenario 4: Sale with No Agents (Rare)
```
Office Sales Agent      : N/A
Vehicle Showroom Agent  : N/A
```

---

## CSV Export Format

```csv
Field,Value
Vehicle Number,VH-001234
Brand,Honda
Model,Civic
Manufacture Year,2020
...
Selling Information,
Selling Price,"Rs. 1,500,000"
Customer Price,"Rs. 1,500,000"
Down Payment,"Rs. 300,000"
Payment Type,Hire Purchase
Office Sales Agent,John Smith
Vehicle Showroom Agent,Jane Doe
Status,Pending
Sold Date,2025-11-04
...
```

---

## UI Component Styling

### Labels
- **Color:** Gray-600
- **Font:** Text-gray-600
- **Min Width:** 140px (for alignment)
- **Font Size:** Normal

### Values
- **Color:** Gray-900
- **Font Weight:** Semibold
- **Font Size:** Normal

### Payment Type Badge
- **Background:** Cyan-100
- **Text Color:** Cyan-800
- **Border Radius:** Rounded-md
- **Padding:** px-3 py-1

### Layout Spacing
- **Row Gap:** 3 units (space-y-3)
- **Column Gap:** 6 units (gap-6)
- **Grid Columns:** 2 (grid-cols-2)

---

## Implementation Details

### Data Flow

```
1. Modal Opens
   â†“
2. Fetch from Supabase
   Query:
   - pending_vehicle_sales table
   - Relation: sales_agents (id, name, agent_type)
   - Fields: *, third_party_agent, sales_agent_id
   â†“
3. Extract Data
   - saleData.sales_agents.name â†’ Office Sales Agent
   - saleData.third_party_agent â†’ Vehicle Showroom Agent
   â†“
4. Display in Modal
   - Left Column: Office Sales Agent
   - Right Column: Vehicle Showroom Agent
   â†“
5. Export to CSV
   - Both agent fields exported
```

---

## Testing Points

âœ… Check modal displays correctly with both agents  
âœ… Verify agent names show correctly (not truncated)  
âœ… Test N/A fallback when agent is missing  
âœ… Verify CSV export includes both agent columns  
âœ… Check spacing and alignment is consistent  
âœ… Test with various screen sizes  
âœ… Check no console errors  

---

**Last Updated:** November 4, 2025  
**Component:** ViewDetailModal.tsx  
**Status:** âœ… Complete & Ready for Testing
