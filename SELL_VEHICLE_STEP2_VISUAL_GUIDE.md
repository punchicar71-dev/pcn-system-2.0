# ğŸ¨ Sell Vehicle Step 2 - Visual Guide

## ğŸ“± Updated Form Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Setup Selling information                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Search Vehicle *                                               â”‚
â”‚  [ğŸ” Search by Vehicle Number                          ]       â”‚
â”‚                                                                 â”‚
â”‚  Selling Amount *                                              â”‚
â”‚  [Rs                                                    ]       â”‚
â”‚                                                                 â”‚
â”‚  Advance Amount                                                â”‚
â”‚  [Rs                                                    ]       â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ To Pay Amount                        â­ NEW               â”‚ â”‚
â”‚  â”‚ Rs. 2,475,000.00                                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Payment Method *                        âœï¸ UPDATED           â”‚
â”‚  [Select option...                                      â–¼]     â”‚
â”‚   â€¢ Cash                                                       â”‚
â”‚   â€¢ Leasing                                                    â”‚
â”‚                                                                 â”‚
â”‚  Select Leasing Company *                â­ NEW (Conditional)  â”‚
â”‚  [Select leasing company...                             â–¼]     â”‚
â”‚   â€¢ Commercial Bank Leasing                                    â”‚
â”‚   â€¢ LOLC Finance                                               â”‚
â”‚   â€¢ Nations Trust Bank                                         â”‚
â”‚                                                                 â”‚
â”‚  In-House Sales Agent                                          â”‚
â”‚  [Select option...                                      â–¼]     â”‚
â”‚                                                                 â”‚
â”‚  Third Party Sales Agent                                       â”‚
â”‚  [Ex: John Doe                                          ]      â”‚
â”‚                                                                 â”‚
â”‚  [Back]  [Sell Vehicle]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Interactive Behavior

### Scenario 1: Cash Payment (Default)
```
Step 1: User enters Selling Amount
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Selling Amount *     â”‚
        â”‚ [2,500,000    ]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: User enters Advance Amount
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Advance Amount       â”‚
        â”‚ [25,000       ]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: To Pay Amount appears automatically
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ To Pay Amount                â”‚
        â”‚ Rs. 2,475,000.00             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 4: Select "Cash" payment method
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Payment Method *     â”‚
        â”‚ [Cash        â–¼]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result: No additional fields needed
        âœ“ Ready to proceed!
```

---

### Scenario 2: Leasing Payment
```
Step 1-3: Same as Cash (Amounts entered)

Step 4: Select "Leasing" payment method
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Payment Method *     â”‚
        â”‚ [Leasing     â–¼]     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“
        âš¡ New field appears!

Step 5: Select Leasing Company (REQUIRED)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Select Leasing Company *    â”‚
        â”‚ [LOLC Finance        â–¼]    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result: Leasing company recorded
        âœ“ Ready to proceed!
```

---

## ğŸ’° To Pay Amount - Live Calculation

### Example 1: Basic Sale
```
Selling Amount:    Rs. 2,500,000
Advance Amount:    Rs.    25,000
                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
To Pay Amount:     Rs. 2,475,000.00
```

### Example 2: Full Payment
```
Selling Amount:    Rs. 1,800,000
Advance Amount:    Rs. 1,800,000
                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
To Pay Amount:     Rs.         0.00
```

### Example 3: No Advance
```
Selling Amount:    Rs. 3,200,000
Advance Amount:    Rs.         0
                   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
To Pay Amount:     Rs. 3,200,000.00
```

---

## ğŸ¯ Payment Method Options

### Before Update âŒ
```
Payment Type *
â”œâ”€â”€ Cash
â”œâ”€â”€ Leasing
â”œâ”€â”€ Bank Transfer    â† REMOVED
â””â”€â”€ Check            â† REMOVED
```

### After Update âœ…
```
Payment Method *
â”œâ”€â”€ Cash       âœ“ Simplified
â””â”€â”€ Leasing    âœ“ With company selection
```

---

## ğŸ¢ Leasing Company Selection

### When Visible
```
IF Payment Method = "Leasing"
THEN Show "Select Leasing Company"
ELSE Hide field
```

### Data Source
```
Settings â†’ Leasing Company Tab
           â†“
    Fetch active companies
           â†“
    Display in dropdown
```

### Example Companies List
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select Leasing Company *       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Select leasing company...      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚ ABANS Finance                  â”‚
â”‚ Alliance Finance               â”‚
â”‚ LOLC Finance                   â”‚
â”‚ Nations Trust Bank             â”‚
â”‚ People's Leasing               â”‚
â”‚ Senkadagala Finance            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Field Validation

### Required Fields (*)
- âœ“ Search Vehicle
- âœ“ Selling Amount
- âœ“ Payment Method
- âœ“ Leasing Company (only if Payment Method = Leasing)

### Optional Fields
- Advance Amount
- In-House Sales Agent
- Third Party Sales Agent

### Validation Rules
```
1. Selling Amount > 0
2. Advance Amount â‰¥ 0
3. If Leasing â†’ Must select company
4. If Cash â†’ Company field hidden
```

---

## ğŸ¨ Color Scheme

### To Pay Amount Box
- **Background:** Light Blue (#EFF6FF)
- **Border:** Blue (#BFDBFE)
- **Text:** Dark Blue (#1E3A8A)
- **Size:** Large, bold (2xl)

### Form Elements
- **Inputs:** White background, gray border
- **Focus:** Green ring (#10B981)
- **Required:** Red asterisk (#EF4444)
- **Labels:** Gray text (#374151)

---

## ğŸ”— Integration with Settings

### Leasing Company Management
```
Dashboard â†’ Settings â†’ Leasing Company
            â†“
    Add/Edit/Delete Companies
            â†“
    Mark Active/Inactive
            â†“
    Automatically appears in Sell Vehicle
```

### Flow Diagram
```
Settings Page               Sell Vehicle Page
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add LOLC   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  LOLC appears   â”‚
â”‚  Finance    â”‚            â”‚  in dropdown     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set Active  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  Selectable     â”‚
â”‚   = true    â”‚            â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Set Active  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚  Hidden from    â”‚
â”‚   = false   â”‚            â”‚  dropdown        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Responsive Design

### Desktop View (Default)
- Two columns: Form on left, Vehicle details on right
- Full width form fields
- Side-by-side layout

### Mobile View (Auto-adjusted)
- Single column layout
- Stacked fields
- Full-width buttons
- Maintains all functionality

---

## âš¡ Real-time Updates

### Auto-calculation
```
User types in Selling Amount
        â†“
Calculation updates immediately
        â†“
To Pay Amount refreshes
```

### Conditional Display
```
User selects "Leasing"
        â†“
Field slides in smoothly
        â†“
User selects company
```

---

## ğŸ¯ User Experience

### Benefits
1. âœ… **Transparency:** See exact balance immediately
2. âœ… **Simplicity:** Only 2 payment options
3. âœ… **Flexibility:** Conditional fields reduce clutter
4. âœ… **Integration:** Seamless with settings
5. âœ… **Professional:** Clean, modern interface

### Before vs After
```
BEFORE:                    AFTER:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Manual calculation         Auto-calculated
4 payment options          2 focused options
No leasing tracking        Full integration
                          Conditional UI
```

---

## ğŸ” Technical Details

### State Management
```typescript
const [sellingData, setSellingData] = useState({
  searchVehicle: '',
  selectedVehicle: null,
  sellingAmount: '',
  advanceAmount: '',
  paymentType: '',          // Cash or Leasing
  leasingCompany: '',       // â­ NEW
  inHouseSalesAgent: '',
  thirdPartySalesAgent: '',
});
```

### Database Record
```typescript
{
  vehicle_id: 'uuid',
  selling_amount: 2500000,
  advance_amount: 25000,
  payment_type: 'Leasing',
  leasing_company_id: 'uuid',  // â­ NEW
  // ... other fields
}
```

---

## ğŸ“‹ Quick Reference

### New Features
1. **To Pay Amount** - Auto-calculated display
2. **Payment Method** - Renamed and simplified
3. **Leasing Company** - Conditional select field

### Removed
- Bank Transfer option âŒ
- Check option âŒ

### Modified
- "Payment Type" â†’ "Payment Method"
- Only Cash and Leasing remain

---

**Visual Guide Complete!**  
**Date:** November 2, 2025  
**Status:** âœ… Ready to Use
